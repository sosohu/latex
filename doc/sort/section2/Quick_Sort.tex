    
\begin{lstlisting}
int partition(int A[], int begin, int end){
	int index = rand()%(end - begin + 1) + begin;
	int last = begin;
	swap(A[index], A[end]);
	for(int i = begin; i < end; i++){
		if(A[i] < A[end]){
			swap(A[last], A[i]);
			last++;
		}
	}
	swap(A[end], A[last]);
	return last;
}

void quick_aux(int A[], int begin, int end){
	if(begin < end){
		int part = partition(A, begin, end);
		quick_aux(A, begin, part - 1);
		quick_aux(A, part + 1, end);
	}
}

void quick_sort(int A[], int n){
	quick_aux(A, 0, n-1);
}
\end{lstlisting}
